!function (t, e) { !function (t, n) { "use strict"; var i = function (t) { if (!n.versionCheck || !n.versionCheck("1.10")) throw "jquery.dataTables.editable: less than 1.10.0 datatables version, need 1.10.x or newer"; t.oInstance.oController = this; var e = n.Api; e.register("destroyCtrl()", function () { return this.settings()[0].oInstance.oController._destroy(this), this }), e.register("row().edit()", function (t) { return this.settings()[0].oInstance.oController._edit(this, t), this }), e.register("row().complete()", function (t) { return this.settings()[0].oInstance.oController._complete(this, t), this }), e.register("row().cancel()", function () { return this.settings()[0].oInstance.oController._cancel(this), this }), e.register("row().rollback()", function (t) { return this.settings()[0].oInstance.oController._rollback(this, t), this }), e.register("row.addition()", function (t, e) { return this.settings()[0].oInstance.oController._add(this, e), this }), e.register("row().remove()", function () { return this.settings()[0].oInstance.oController._remove(this), this }) }; i.prototype = { _info: { edit: { editing: !1, row: null, log: [], logCacheLength: 1, getLog: function (e) { return t.map(this.log, function (t) { return t.row.node() === e.node() ? t : null }) }, addLog: function (t, e) { var n = this.getLog(t); n.length > 0 ? (n[0].data.push(e), n[0].location += 1, n[0].data.length > logCacheLength && n[0].data.splice(0, 1)) : this.log.push({ row: t, data: [e], location: 1 }) } } }, _format: function (e, n, o, r, a) { var s, d = t(e.node()).find("td").eq(r), l = e.cell(d).index(), c = "string" == typeof a.className ? a.className : void 0; s = a.render && "function" == typeof a.render ? a.render(o, n, l) : i.columnRender(a.type || "text", o, n, c), d.html(s) }, _edit: function (e, n) { if (0 != e.length && !this._info.edit.editing) { this._info.edit.row = e; for (var o = e.data(), r = e.settings()[0].aoColumns, a = 0, s = 0; s < r.length; s++) { var d = r[s]; 0 == d.edit ? a++ : this._format(e, o, o[d.mData], d.idx, t.isPlainObject(d.edit) ? d.edit : i.defaults) } a != r.length && (this._info.edit.editing = !0, n(e)) } }, _complete: function (e, n) { if (0 != e.length && this._info.edit.editing) { for (var i = t(e.node()), o = i.find("td"), r = e.data(), a = t.extend(!0, r instanceof Array ? [] : {}, r), s = e.settings()[0].aoColumns, d = 0; d < s.length; d++) { var l = s[d]; 0 != l.edit && (a[l.mData] = l.edit && "function" == typeof l.edit.value ? l.edit.value(i, o[l.idx]) : t(o[l.idx]).children().eq(0).val()) } if ("function" == typeof n) { var c = this._info; n(a, r, i, function (t) { 0 != t ? (e.data(a), c.edit.editing = !1, c.edit.addLog(e, r)) : e.cancel() }) } } }, _cancel: function (t) { 0 != this.length && this._info.edit.editing && (t.data(t.data()), this._info.edit.editing = !1) }, _rollback: function (t, e) { if (0 != t.length) { isNaN(e) && (e = -1); var n = this._info.edit.getLog(t); if (n.length > 0) { var i = n[0].data.length; i > 0 && (0 > e && (e = i + e), e >= 0 && i > e && (n[0].row.data(n[0].data[e]), n[0].data.splice(e))) } } }, _add: function (e, n, i) { var o; if (i) o = i; else { var r = e.row(0).data(); o = t.extend(!0, r instanceof Array ? [] : {}, r); for (var a = 0; a < r.length; a++) o[a] = "" } var s = e.row.add(o).draw().node(); 0 != n && e.row(s).edit() }, _destroy: function (t) { t.settings()[0].oInstance.oController = null } }, i.defaults = {}, i.columnRender = function (t, e, n, i) { return "<input " + (i ? "class='" + i + "'" : "") + " type='" + t + "' value='" + e + "'/>" }, t(e).on("init.dt", function (e, n, o) { return n.oInstance.oController ? void (console.error = ' the current editable table has been initialized\n please call "destroyCtrl()" to destroy') : void ((1 == t(n.nTable).attr("data-editable") || n.oInit.editable) && new i(n)) }), t(e).on("order.dt", function (t, e, n) { var i = e.oInstance.oController; i && 1 == i._info.edit.editing && i._cancel(i._info.edit.row) }) }(jQuery, jQuery.fn.dataTable) }(window, document);